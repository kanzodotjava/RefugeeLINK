@startuml
skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false

title Apply for Formation Programs

autonumber

actor RegisteredRefugee
participant ":FormationProgramsUI" as ui
participant ":FormationProgramsController" as ctrl
participant "System" as system

activate RegisteredRefugee

    RegisteredRefugee -> ui : navigates to formation programs section
    activate ui
        ui -> ctrl : loadFormationPrograms()
        activate ctrl
            ctrl -> system : getAvailableFormationPrograms()
            activate system
                system --> ctrl : availableFormationProgramsList
            deactivate system
            ctrl -> ui : displayFormationPrograms(availableFormationProgramsList)
        deactivate ctrl
    deactivate ui

    RegisteredRefugee -> ui : selects a formation program
    activate ui
        ui -> ctrl : viewFormationProgramDetails(selectedProgram)
        activate ctrl
            ctrl -> ui : displayFormationProgramDetails(selectedProgram)
        deactivate ctrl
    deactivate ui

    RegisteredRefugee -> ctrl : applies for the selected program
    activate system
        ctrl -> system : checks if can apply
    deactivate system

    system -> RegisteredRefugee : confrims application

deactivate RegisteredRefugee

@enduml
